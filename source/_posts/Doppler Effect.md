---
title: 二維都卜勒效應模擬實驗計畫
date: 2021-10-7
tags: 
    - 數學
    - 專題
categories:
	- 程式模擬

mathjax: true
---

## 實驗器材

* 麥克風一支
* 蜂鳴器一枚
* 圓形轉盤(建中實驗室)
* 筆電一台(裝好聲音處理軟體，並確保可以連上麥克風)

<!--more-->

## 理論部分

整理一些會用到的物理公式、名詞等。在小論文中，我們總共做了角度對頻率的關係圖，以及頻率對時間的關係圖，我們在實驗中主要會用到的是**頻率對時間的關係圖**，其實最重要的還是頻率的最大值與最小值。

實驗做完以後，會結合我們小論文最後一部分:**理論與模擬的比較**這一個部分，結合實驗，做出更詳盡，有說服力的論述。

### 都卜勒效應公式

因為是做時間對上頻率的關係圖，因此我們要用的就是一般一維的都卜勒效應公式。先定義 $f'$ 為觀察者(靜止)所觀測到的頻率，$f$ 為蜂鳴器發射出來的頻率，$v$ 為聲音的波速，$v_s$ 為蜂鳴器相對於介質的移動速度。以下公式：

$$f' = \frac{v}{v+v_s}\cdot f$$

注意到 $v_s$ 要代入的是切線速度(到時候會用角速度換算而來)  

### 角速度與切線速度

![](https://i.imgur.com/S9Io87a.png)

角速度 $\omega$ 代表的是一秒內能夠轉動的弧度多少，其單位為 $\frac{rad}{s}$ ，要注意的是弧度沒有單位!從定義可以推導出以下公式：

$$\omega = \frac{\Delta \theta}{\Delta t}$$

而根據弧度的定義，我們知道 $\theta = \frac{S}{r}$ ，如果要求出切線速度 $v$ ，我們可以列出以下式子：

$$v = \frac{d \, S}{d \,t}$$

換句話說就是對距離作微分得到時間。其中 $S = r\cdot\theta$，代入之後得到：

$$v = \frac{r\times \Delta\theta}{\Delta t} = r\cdot \omega$$

有了切線速度之後，就可以直接代入都卜勒效應公式中蜂鳴器 $v_s$ 算出頻率了!

### 不確定度

不確定度可以分成 A 類不確定度以及 B 類不確定度，以 $u_A,u_B$ 表示。其中 A 類不確定度的公式：

![](https://i.imgur.com/Eu4LAs4.png)

B 類則是用儀器的最小刻度乘上$\frac{1}{2\sqrt{3}}$，到時候看看麥克風的規格再來算一下。而有了這兩個不確定度之後，就要算組合不確定度：

$$u = \sqrt{u_A^2+u_B^2}$$

算不確定度都是取有效位數兩位，最佳估計值對齊不確定度的位數。寫成結果 X = 最佳估計值 ± 不確定度的形式。

## 實驗流程

1. 設定轉盤轉速、蜂鳴器旋轉半徑(可以固定與觀察者的距離，因為這個距離對頻率不會有影響)
2. 轉動旋轉圓盤，用麥克風接收頻率，並輸入軟體之後畫出f-t圖(先找出蜂鳴器在哪一個頻率區間的聲音是最大聲的)
3. 找出每一組數據中頻率的最大值以及最小值，並與理論作比較

## 預期呈現方式(實驗表格)

這個表格是角速度對上蜂鳴器的旋轉半徑(公分)的圖，表格裡面的數字則是切線速度(公分/秒，可能還要做一些單位的換算之後代入公式)：

| w-r | 2.5  | 5   | 7.5   | 10  |
|:--- | ---- |:--- | ----- |:--- |
| 1π  | 2.5π | 5π  | 7.5π  | 10π |
| 2π  | 5π   | 10π | 15π   | 20π |
| 3π  | 7.5π | 15π | 22.5π | 30π |
| 4π  | 4π   | 20π | 30π   | 40π |

這是理論算出來的結果：
![](https://i.imgur.com/6NCum1O.png)

會有兩個表格分別是理論的頻率最大、最小值，以及實驗表格要填入觀察的結果(用Audacity分析)，形式大概就是長成上表這樣。

![](https://i.imgur.com/iOmuS6R.png)

最後，我們打算固定轉動的速度(角速度)，畫出頻率對上半徑的圖形(x座標為半徑、y座標為頻率)，用兩條直線表示理論和實際測量的結果。

## 程式部分

[程式碼連結](https://glowscript.org/#/user/ck1090758/folder/%E4%BA%8C%E5%B9%B4%E7%B4%9ATEST/program/Experiment)

將之前的程式碼的數字改成符合真實狀況之後，圖畫出來的效果很糟，因為之前都是以公尺為單位，當處理到以公分為單位的細微變化時，就會跑出很糟糕的圖形。因此，我們將之前的程式碼的時間變化dt改成 $10^{-8}$，使每一次的波的位移量盡量小，才能讓結果更精準。

這是有bug一開始的醜陋圖形：

![](https://i.imgur.com/7XD686j.png)

加上了一點**時間延遲**的處理之後，若帶入上面的數據，與公式推出來的結果誤差會在正負 $0.005$ 之間，算時蠻精準的，例如下圖：

![](https://i.imgur.com/L1ouBCB.png)

這個是用 $10^{-7}$ 為間隔的圖形，在最大最小值跟理論有些小的差距。因此，在求最大最小值的時候，會以 $10^{-8}$ 為間隔，缺點是跑得很慢就是了，因此採用直接把初始位置設在發生頻率極值附近，比較能快速觀察。

![](https://i.imgur.com/v5Cz70r.png)

誤差約為 $3.5\times 10^{-4}\%$ 左右。

## Praat使用

{% note default%}
**使用其他音頻分析軟體**
剛剛下載了Sonic Visualizer 測試看看，果然可以分析每一個時間點中，各個頻率的強度為何。我先用手機播放400HZ以及4000HZ的聲音。下圖就是400HZ的波段，可以看到在對應的頻率強度最強，其他應該就是背景雜音的部分。
![](https://i.imgur.com/ejeKPYk.png)

這是4000HZ的圖形，但他好像沒辦法完全做到時頻圖。
![](https://i.imgur.com/eNdrKmM.png)

不知道這個功能可不可以使用，下面的圖形中，縱軸表示的是頻率，橫軸是時間，也就是時頻圖，用不同顏色來區分聲音的大小。可以看到前半部分黃色線是明顯的400HZ，而後面有一段由好多個點構成的線段（不太明顯，可能是聲音不夠大的結果）則是4000HZ。如果要分析這些的話，那除了聲音要夠大之外，頻率變化要明顯才能看得出差別。

![](https://i.imgur.com/HJ5fy7g.png)

{% endnote %}

上網查了一下發現 Audacity 好像無法畫出時頻圖(研究很久都沒有結果)，所以找到了 Praat 這個應用程式，而經過一翻研究後的確可以畫出頻譜圖。

我們自己錄了一小段用手機播放出來的音頻，分析後的結果大概如下圖：

音檔分析結果：
![](https://i.imgur.com/PNAe1p9.png)

經過實驗測試，未來將以麥克風收音後傳入 Audacity，匯出成音檔後傳進 Praat 後進行分析。

## 目前困境

* [ ] 嘗試使用 Arduino 的蜂鳴器，太小聲，必須買大聲一點的蜂鳴器(出貨中)。
![](https://i.imgur.com/4jR8QTT.jpg)

* [ ] 跟據理論預測，頻率變化的量不太明顯，必須使用頻率較高的蜂鳴器才能讓頻率最大值最小值的差距放大，或變得更顯著。不過還是會擔心說**頻率的變化會不明顯**，只能等實際做做看實驗才知道。
目前打算用一個4000HZ的蜂鳴器進行實驗，希望在頻率表現上可以更加明顯(看到有大學實驗室是利用 40kHz 進行實驗，所產生的頻率變化應該會明顯許多)

## 實驗結果

### V = 30,R = 5

![](https://i.imgur.com/Rdd3sQj.png)

### V = 60,R = 5

![](https://i.imgur.com/8ZS4ad6.png)

### V = 90,R = 5

![](https://i.imgur.com/ahm7WDP.png)

### V = 30,R = 10

![](https://i.imgur.com/msoiTEt.png)

### V = 60,R = 10

![](https://i.imgur.com/GMwN3ne.png)

### V = 90,R = 10

![](https://i.imgur.com/COqmz9g.png)

-->

### 5cm 靜止

![](https://i.imgur.com/8vaA9aK.png)

### 5cm v = 30

![](https://i.imgur.com/J4V75C8.png)

### 5cm v = 60

![](https://i.imgur.com/tiYCIHI.png)

### 5cm v = 90

![](https://i.imgur.com/VicJL2Z.png)

### 10cm 靜止

![](https://i.imgur.com/J2CWmNY.png)

### 10cm v = 30

![](https://i.imgur.com/7kKEYQK.png)

### 10cm v = 60

![](https://i.imgur.com/DZzBP2p.png)

### 10cm v = 90

![](https://i.imgur.com/wQKB2kq.png)
